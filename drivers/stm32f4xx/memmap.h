/*
 * This file is part of HiKoB Openlab.
 *
 * HiKoB Openlab is free software: you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public License
 * as published by the Free Software Foundation, version 3.
 *
 * HiKoB Openlab is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with HiKoB Openlab. If not, see
 * <http://www.gnu.org/licenses/>.
 *
 * Copyright (C) 2011 HiKoB.
 */

/*
 * memmap.h
 *
 *  Created on: Oct 22, 2011
 *      Author: Cl√©ment Burin des Roziers <clement.burin-des-roziers.at.hikob.com>
 */

#ifndef MEMMAP_H_
#define MEMMAP_H_

#include <stdint.h>
#include "cm3_memmap.h"

#define	FSMC_BASE_ADDRESS		0xA0000000
#define	RNG_BASE_ADDRESS		0x50060800
#define	HASH_BASE_ADDRESS		0x50060400
#define	CRYP_BASE_ADDRESS		0x50060000
#define	DCMI_BASE_ADDRESS		0x50050000
#define	USB_OTG_FS_BASE_ADDRESS	0x50000000
#define	USB_OTG_HS_BASE_ADDRESS	0x40040000
#define	ETHMAC_BASE_ADDRESS		0x40028000
#define	DMA2_BASE_ADDRESS		0x40026400
#define	DMA1_BASE_ADDRESS		0x40026000
#define	BKPSRAM_BASE_ADDRESS	0x40024000
#define	FLASH_BASE_ADDRESS		0x40023C00
#define	RCC_BASE_ADDRESS		0x40023800
#define	CRC_BASE_ADDRESS		0x40023000
#define	GPIOI_BASE_ADDRESS 		0x40022000
#define	GPIOH_BASE_ADDRESS 		0x40021C00
#define	GPIOG_BASE_ADDRESS		0x40021800
#define	GPIOF_BASE_ADDRESS		0x40021400
#define	GPIOE_BASE_ADDRESS 		0x40021000
#define	GPIOD_BASE_ADDRESS		0x40020C00
#define	GPIOC_BASE_ADDRESS		0x40020800
#define	GPIOB_BASE_ADDRESS		0x40020400
#define	GPIOA_BASE_ADDRESS		0x40020000
#define	TIM11_BASE_ADDRESS		0x40014800
#define	TIM10_BASE_ADDRESS		0x40014400
#define	TIM9_BASE_ADDRESS		0x40014000
#define	EXTI_BASE_ADDRESS		0x40013C00
#define	SYSCFG_BASE_ADDRESS		0x40013800
#define	SPI1_BASE_ADDRESS		0x40013000
#define	SDIO_BASE_ADDRESS		0x40012C00
#define	ADC_BASE_ADDRESS		0x40012000
#define	USART6_BASE_ADDRESS		0x40011400
#define	USART1_BASE_ADDRESS		0x40011000
#define	TIM8_BASE_ADDRESS		0x40010400
#define	TIM1_BASE_ADDRESS		0x40010000

#define	DAC_BASE_ADDRESS		0x40007400
#define	PWR_BASE_ADDRESS		0x40007000
#define	CAN2_BASE_ADDRESS		0x40006800
#define	CAN1_BASE_ADDRESS		0x40006400
#define	I2C3_BASE_ADDRESS		0x40005C00
#define	I2C2_BASE_ADDRESS		0x40005800
#define	I2C1_BASE_ADDRESS		0x40005400
#define	UART5_BASE_ADDRESS		0x40005000
#define	UART4_BASE_ADDRESS		0x40004C00
#define	USART3_BASE_ADDRESS		0x40004800
#define	USART2_BASE_ADDRESS		0x40004400
#define	I2S3EXT_BASE_ADDRESS	0x40004000
#define	SPI3_BASE_ADDRESS		0x40003C00
#define	SPI2_BASE_ADDRESS		0x40003800
#define	I2S2EXT_BASE_ADDRESS	0x40003400
#define	IWDG_BASE_ADDRESS		0x40003000
#define	WWDG_BASE_ADDRESS		0x40002C00
#define	RTC_BASE_ADDRESS		0x40002800
#define	TIM14_BASE_ADDRESS		0x40002000
#define	TIM13_BASE_ADDRESS		0x40001C00
#define	TIM12_BASE_ADDRESS		0x40001800
#define	TIM7_BASE_ADDRESS		0x40001400
#define	TIM6_BASE_ADDRESS		0x40001000
#define	TIM5_BASE_ADDRESS		0x40000C00
#define	TIM4_BASE_ADDRESS		0x40000800
#define	TIM3_BASE_ADDRESS		0x40000400
#define	TIM2_BASE_ADDRESS		0x40000000


/* RCC section */
#define	RCC_CR_OFFSET			0x00
#define RCC_PLLCFGR_OFFSET		0x04
#define	RCC_CFGR_OFFSET			0x08
#define	RCC_CIR_OFFSET			0x0C
#define	RCC_AHB1RSTR_OFFSET		0x10
#define	RCC_AHB2RSTR_OFFSET		0x14
#define	RCC_AHB3RSTR_OFFSET		0x18
#define	RCC_APB1RSTR_OFFSET		0x20
#define	RCC_APB2RSTR_OFFSET		0x24
#define	RCC_AHB1ENR_OFFSET		0x30
#define	RCC_AHB2ENR_OFFSET		0x34
#define	RCC_AHB3ENR_OFFSET		0x38
#define	RCC_APB1ENR_OFFSET		0x40
#define	RCC_APB2ENR_OFFSET		0x44
#define	RCC_AHB1LPENR_OFFSET	0x50
#define	RCC_AHB2LPENR_OFFSET	0x54
#define	RCC_AHB3LPENR_OFFSET	0x58
#define	RCC_APB1LPENR_OFFSET	0x60
#define	RCC_APB2LPENR_OFFSET	0x64
#define	RCC_BDCR_OFFSET			0x70
#define	RCC_CSR_OFFSET			0x74
#define	RCC_SSCGR_OFFSET		0x80
#define	RCC_PLLI2SCFGR_OFFSET	0x84


/* FLASH section */
#define	FLASH_ACR_OFFSET		0x00
#define	FLASH_KEYR_OFFSET		0x04
#define	FLASH_OPTKEYR_OFFSET	0x08
#define	FLASH_SR_OFFSET			0x0C
#define	FLASH_CR_OFFSET			0x10
#define	FLASH_OPTCR_OFFSET		0x14


/* GPIO section */
#define GPIOx_MODER_OFFSET		0x00
#define	GPIOx_OTYPER_OFFSET		0x04
#define	GPIOx_OSPEEDR_OFFSET	0x08
#define	GPIOx_PUPDR_OFFSET		0x0C
#define	GPIOx_IDR_OFFSET		0x10
#define	GPIOx_ODR_OFFSET		0x14
#define	GPIOx_BSRR_OFFSET		0x18
#define	GPIOx_LCKR_OFFSET		0x1C
#define	GPIOx_AFRL_OFFSET		0x20
#define	GPIOx_AFRH_OFFSET		0x24


/* SPI section */
#define	SPIx_CR1_OFFSET		0x00
#define	SPIx_CR2_OFFSET		0x04
#define	SPIx_SR_OFFSET		0x08
#define	SPIx_DR_OFFSET		0x0C
#define	SPIx_CRCPR_OFFSET	0x10
#define	SPIx_RXCRCR_OFFSET	0x14
#define	SPIx_TXCRCR_OFFSET	0x18


/* UART section */
#define	USARTx_SR_OFFSET		0x00
#define	USARTx_DR_OFFSET		0x04
#define	USARTx_BRR_OFFSET		0x08
#define	USARTx_CR1_OFFSET		0x0C
#define	USARTx_CR2_OFFSET		0x10
#define	USARTx_CR3_OFFSET		0x14
#define	USARTx_GTPR_OFFSET		0x18


/* I2C section */
#define	I2Cx_CR1_OFFSET			0x00
#define	I2Cx_CR2_OFFSET			0x04
#define	I2Cx_OAR1_OFFSET		0x08
#define	I2Cx_OAR2_OFFSET		0x0C
#define	I2Cx_DR_OFFSET			0x10
#define	I2Cx_SR1_OFFSET			0x14
#define	I2Cx_SR2_OFFSET			0x18
#define	I2Cx_CCR_OFFSET			0x1C
#define	I2Cx_TRISE_OFFSET		0x20


/* TIM section */
#define	TIMx_CR1_OFFSET			0x00
#define	TIMx_CR2_OFFSET			0x04
#define	TIMx_SMCR_OFFSET		0x08
#define	TIMx_DIER_OFFSET		0x0C
#define	TIMx_SR_OFFSET			0x10
#define	TIMx_EGR_OFFSET			0x14
#define	TIMx_CCMR1_OFFSET		0x18
#define	TIMx_CCMR2_OFFSET		0x1C
#define	TIMx_CCER_OFFSET		0x20
#define	TIMx_CNT_OFFSET			0x24
#define	TIMx_PSC_OFFSET			0x28
#define	TIMx_ARR_OFFSET			0x2C
#define	TIMx_CCR1_OFFSET		0x34
#define	TIMx_CCR2_OFFSET		0x38
#define	TIMx_CCR3_OFFSET		0x3C
#define	TIMx_CCR4_OFFSET		0x40
#define	TIMx_BDTR_OFFSET		0x44
#define	TIMx_DCR_OFFSET			0x48
#define	TIMx_DMAR_OFFSET		0x4C
#define	TIMx_OR_OFFSET			0x50

/* ADC section */
#define	ADC1_OFFSET				0x000
#define	ADC2_OFFSET				0x100
#define	ADC3_OFFSET				0x200

#define	ADCx_SR_OFFSET			0x00
#define	ADCx_CR1_OFFSET			0x04
#define	ADCx_CR2_OFFSET			0x08
#define	ADCx_SMPR1_OFFSET		0x0C
#define	ADCx_SMPR2_OFFSET		0x10
#define	ADCx_JOFR1_OFFSET		0x14
#define	ADCx_JOFR2_OFFSET		0x18
#define	ADCx_JOFR3_OFFSET		0x1C
#define	ADCx_JOFR4_OFFSET		0x20
#define	ADCx_HTR_OFFSET			0x24
#define	ADCx_LTR_OFFSET			0x28
#define	ADCx_SQR1_OFFSET		0x2C
#define	ADCx_SQR2_OFFSET		0x30
#define	ADCx_SQR3_OFFSET		0x34
#define	ADCx_JSQR_OFFSET		0x38
#define	ADCx_JDR1_OFFSET		0x3C
#define	ADCx_JDR2_OFFSET		0x40
#define	ADCx_JDR3_OFFSET		0x44
#define	ADCx_JDR4_OFFSET		0x48
#define	ADCx_DR_OFFSET			0x4C

#define	ADC_CSR_OFFSET			0x300
#define	ADC_CCR_OFFSET			0x304
#define	ADC_CDR_OFFSET			0x308


/* SYSCFG section */
#define	SYSCFG_MEMRM_OFFSET			0x00
#define	SYSCFG_PMC_OFFSET			0x04
#define	SYSCFG_EXTICR1_OFFSET		0x08
#define	SYSCFG_EXTICR2_OFFSET		0x0C
#define	SYSCFG_EXTICR3_OFFSET		0x10
#define	SYSCFG_EXTICR4_OFFSET		0x14
#define	SYSCFG_CMPCR_OFFSET			0x20


/* PWR section */
#define	PWR_CR_OFFSET				0x00
#define	PWR_CSR_OFFSET				0x04

/* EXTI section */
#define	EXTI_IMR_OFFSET				0x00
#define	EXTI_EMR_OFFSET				0x04
#define	EXTI_RTSR_OFFSET			0x08
#define	EXTI_FTSR_OFFSET			0x0C
#define	EXTI_SWIER_OFFSET			0x10
#define	EXTI_PR_OFFSET				0x14


/* DMA section */
#define	DMAx_LISR_OFFSET		0x0000
#define	DMAx_HISR_OFFSET		0x0004
#define	DMAx_LIFCR_OFFSET		0x0008
#define	DMAx_HIFCR_OFFSET		0x000C
#define	DMAx_S0CR_OFFSET		0x0010
#define	DMAx_S0NDTR_OFFSET		0x0014
#define	DMAx_S0PAR_OFFSET		0x0018
#define	DMAx_S0M0AR_OFFSET		0x001C
#define	DMAx_S0M1AR_OFFSET		0x0020
#define	DMAx_S0FCR_OFFSET		0x0024

#define	DMAx_STREAM_OFFSET		0x18


/* CAN section */
#define	CAN_MCR_OFFSET			0x0000
#define	CAN_MSR_OFFSET			0x0004
#define	CAN_TSR_OFFSET			0x0008
#define	CAN_RF0R_OFFSET			0x000C
#define	CAN_RF1R_OFFSET			0x0010
#define	CAN_IER_OFFSET			0x0014
#define	CAN_ESR_OFFSET			0x0018
#define	CAN_BTR_OFFSET			0x001C

#define	CAN_TI0R_OFFSET			0x0180
#define	CAN_TDT0R_OFFSET		0x0184
#define	CAN_TDL0R_OFFSET		0x0188
#define	CAN_TDH0R_OFFSET		0x018C

#define	CAN_TIxR_OFFSET			0x10

#define	CAN_TI1R_OFFSET			0x0190
#define	CAN_TDT1R_OFFSET		0x0194
#define	CAN_TDL1R_OFFSET		0x0198
#define	CAN_TDH1R_OFFSET		0x019C
#define	CAN_TI2R_OFFSET			0x01A0
#define	CAN_TDT2R_OFFSET		0x01A4
#define	CAN_TDL2R_OFFSET		0x01A8
#define	CAN_TDH2R_OFFSET		0x01AC
#define	CAN_RI0R_OFFSET			0x01B0
#define	CAN_RDT0R_OFFSET		0x01B4
#define	CAN_RDL0R_OFFSET		0x01B8
#define	CAN_RDH0R_OFFSET		0x01BC

#define	CAN_RIxR_OFFSET			0x10

#define	CAN_RI1R_OFFSET			0x01C0
#define	CAN_RDT1R_OFFSET		0x01C4
#define	CAN_RDL1R_OFFSET		0x01C8
#define	CAN_RDH1R_OFFSET		0x01CC

#define	CAN_FMR_OFFSET			0x0200
#define	CAN_FM1R_OFFSET			0x0204
#define	CAN_FS1R_OFFSET			0x020C
#define	CAN_FFA1R_OFFSET		0x0214
#define	CAN_FA1R_OFFSET			0x021C
#define	CAN_F0R1_OFFSET			0x0240
#define	CAN_F0R2_OFFSET			0x0244
#define	CAN_FORx_OFFSET			0x8


#define	ETHMAC_MACCR_OFFSET			0x0000
#define	ETHMAC_MACFFR_OFFSET		0x0004
#define	ETHMAC_MACHTHR_OFFSET		0x0008
#define	ETHMAC_MACHTLR_OFFSET		0x000C
#define	ETHMAC_MACMIIAR_OFFSET		0x0010
#define	ETHMAC_MACMIIDR_OFFSET		0x0014
#define	ETHMAC_MACFCR_OFFSET		0x0018
#define	ETHMAC_MACVLANTR_OFFSET		0x001C
#define	ETHMAC_MACRWUFFR_OFFSET		0x0028
#define	ETHMAC_MACPMTCSR_OFFSET		0x002C

#define	ETHMAC_MACDBGR_OFFSET		0x0034
#define	ETHMAC_MACSR_OFFSET			0x0038
#define	ETHMAC_MACIMR_OFFSET		0x003C
#define	ETHMAC_MACA0HR_OFFSET		0x0040
#define	ETHMAC_MACA0LR_OFFSET		0x0044
#define	ETHMAC_MACA1HR_OFFSET		0x0048
#define	ETHMAC_MACA1LR_OFFSET		0x004C
#define	ETHMAC_MACA2HR_OFFSET		0x0050
#define	ETHMAC_MACA2LR_OFFSET		0x0054
#define	ETHMAC_MACA3HR_OFFSET		0x0058
#define	ETHMAC_MACA3LR_OFFSET		0x005C
#define	ETHMAC_MMCCR_OFFSET			0x0100
#define	ETHMAC_MMCRIR_OFFSET		0x0104
#define	ETHMAC_MMCTIR_OFFSET		0x0108
#define	ETHMAC_MMCRIMR_OFFSET		0x010C
#define	ETHMAC_MMCTIMR_OFFSET		0x0110
#define	ETHMAC_MMCTGFSCCR_OFFSET	0x014C
#define	ETHMAC_MMCTGFMSCCR_OFFSET	0x0150



#define	ETHMAC_MMCTGFCR_OFFSET		0x0168
#define	ETHMAC_MMCRFCER_OFFSET		0x0194
#define	ETHMAC_MMCRFAECR_OFFSET		0x0198
#define	ETHMAC_MMCRGUFCR_OFFSET		0x01C4
#define	ETHMAC_PTPTSCR_OFFSET		0x0700
#define	ETHMAC_PTPSSIR_OFFSET		0x0704
#define	ETHMAC_PTPTSHR_OFFSET		0x0708
#define	ETHMAC_PTPTSLR_OFFSET		0x070C
#define	ETHMAC_PTPTSHUR_OFFSET		0x0710
#define	ETHMAC_PTPTSLUR_OFFSET		0x0714
#define	ETHMAC_PTPTSAR_OFFSET		0x0718
#define	ETHMAC_PTPTTHR_OFFSET		0x071C
#define	ETHMAC_PTPTTLR_OFFSET		0x0720
#define	ETHMAC_PTPTSSR_OFFSET		0x0728
#define	ETHMAC_DMABMR_OFFSET		0x1000
#define	ETHMAC_DMATPDR_OFFSET		0x1004
#define	ETHMAC_DMARPDR_OFFSET		0x1008
#define	ETHMAC_DMARDLAR_OFFSET		0x100C
#define	ETHMAC_DMATDLAR_OFFSET		0x1010
#define	ETHMAC_DMASR_OFFSET			0x1014

#define	ETHMAC_DMAOMR_OFFSET		0x1018
#define	ETHMAC_DMAIER_OFFSET		0x101C
#define	ETHMAC_DMAMFBOCR_OFFSET		0x1020
#define	ETHMAC_DMARSWTR_OFFSET		0x1024
#define	ETHMAC_DMACHTDR_OFFSET		0x1048
#define	ETHMAC_DMACHRDR_OFFSET		0x104C
#define	ETHMAC_DMACHTBAR_OFFSET		0x1050
#define	ETHMAC_DMACHRBAR_OFFSET		0x1054

// Debug
#define	DBGMCU_APB1_FZ		0xE0042008
#define	DBGMCU_APB2_FZ		0xE004200C

/* Unique 96bit ID section */
#define UNIQUE_ID_BASE_ADDRESS  0x1FFF7A10

/* CRC Offsets */
#define	CRC_DR_OFFSET		0x00
#define	CRC_IDR_OFFSET		0x04
#define	CRC_CR_OFFSET		0x08


/* Independent Watchdog Offsets */
#define	IWDG_KR_OFFSET		0x00
#define	IWDG_PR_OFFSET		0x04
#define	IWDG_RLR_OFFSET		0x08
#define	IWDG_SR_OFFSET		0x0C


#endif /* MEMMAP_H_ */
